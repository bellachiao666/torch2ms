--- pytorch+++ mindspore@@ -1,3 +1,8 @@+import mindspore as ms
+import mindspore.nn as msnn
+import mindspore.ops as msops
+import mindspore.mint as mint
+from mindspore.mint import nn, ops
 """
 Recording Module Hierarchy With a Custom Tracer
 
@@ -8,10 +13,10 @@ found in the documentation for `Module.get_submodule`:
 https://github.com/pytorch/pytorch/blob/9f2aea7b88f69fc74ad90b1418663802f80c1863/torch/nn/modules/module.py#L385
 """
-import torch
-import torch.fx
+# import torch
 from typing import Any, Callable, Dict, Optional, Tuple
 
+# 'torch.fx.Tracer' 未在映射表(api_mapping_out_excel.json)中找到，需手动确认;
 class ModulePathTracer(torch.fx.Tracer):
     """
     ModulePathTracer is an FX tracer that--for each operation--also records
@@ -25,9 +30,9 @@     # A map from FX Node to the qualname of the Module from which it
     # originated. This is recorded by `create_proxy` when recording an
     # operation
-    node_to_originating_module : Dict[torch.fx.Node, str] = {}
+    node_to_originating_module : Dict[torch.fx.Node, str] = {}  # 'torch.fx.Node' 未在映射表(api_mapping_out_excel.json)中找到，需手动确认;
 
-    def call_module(self, m: torch.nn.Module, forward: Callable[..., Any],
+    def call_module(self, m: msnn.Cell, forward: Callable[..., Any],
                     args : Tuple[Any, ...], kwargs : Dict[str, Any]) -> Any:
         """
         Override of Tracer.call_module (see
@@ -47,6 +52,7 @@         finally:
             self.current_module_qualified_name = old_qualname
 
+    # 'torch.fx.node.Target' 未在映射表(api_mapping_out_excel.json)中找到，需手动确认;
     def create_proxy(self, kind: str, target: torch.fx.node.Target, args: Tuple[Any, ...],
                      kwargs: Dict[str, Any], name: Optional[str] = None, type_expr: Optional[Any] = None):
         """
@@ -60,10 +66,10 @@ 
 
 # Testing: let's see how this works on a torchvision ResNet18 model
-import torchvision.models as models
+# import torchvision.models as models
 
 # Model under test
-rn18 = models.resnet18()
+rn18 = models.resnet18()  # 'torchvision.models.resnet18' 未在映射表(api_mapping_out_excel.json)中找到，需手动确认;
 
 # Instantiate our ModulePathTracer and use that to trace our ResNet18
 tracer = ModulePathTracer()
