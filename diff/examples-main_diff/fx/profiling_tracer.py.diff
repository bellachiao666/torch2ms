--- pytorch+++ mindspore@@ -1,3 +1,8 @@+import mindspore as ms
+import mindspore.nn as msnn
+import mindspore.ops as msops
+import mindspore.mint as mint
+from mindspore.mint import nn, ops
 """
 This file demonstrates using a custom FX Tracer to override
 the behavior of `torch.autograd.profiler.record_function` and
@@ -9,17 +14,18 @@ Please note that before https://github.com/pytorch/pytorch/pull/65180 lands,
 these ranges may be elimineated by `Graph.eliminate_dead_code`
 """
-import torch
-import torch.fx
+# import torch
 
 # Setup: a module with `record_function`
-class Foo(torch.nn.Module):
-  def forward(self, x):
+class Foo(msnn.Cell):
+  def construct(self, x):
+    # 'torch.profiler.record_function' 未在映射表(api_mapping_out_excel.json)中找到，需手动确认;
     with torch.profiler.record_function('foo'):
-      return torch.relu(x)
+      return nn.functional.relu(x)
 
 f = Foo()
-x = torch.randn(5, 3, 2)
+x = mint.randn(5, 3, 2)
+# 'torch.autograd.profiler.profile' 未在映射表(api_mapping_out_excel.json)中找到，需手动确认;
 with torch.autograd.profiler.profile() as prof:
   f(x)
 
@@ -43,7 +49,8 @@ """
 
 
-traced = torch.fx.symbolic_trace(f)
+traced = torch.fx.symbolic_trace(f)  # 'torch.fx.symbolic_trace' 未在映射表(api_mapping_out_excel.json)中找到，需手动确认;
+# 'torch.autograd.profiler.profile' 未在映射表(api_mapping_out_excel.json)中找到，需手动确认;
 with torch.autograd.profiler.profile() as prof:
   traced(x)
 
@@ -62,6 +69,7 @@ """
 
 
+# 'torch.fx.Tracer' 未在映射表(api_mapping_out_excel.json)中找到，需手动确认;
 class ProfilerTracer(torch.fx.Tracer):
   def trace(self, root, concrete_args=None):
     orig_record_function_enter = torch.autograd.profiler.record_function.__enter__
@@ -82,7 +90,7 @@     def fake_profiler_exit(_self, exc_type, exc_value, traceback):
       assert hasattr(_self, '_fx_profiler_ctx')
       handle_proxy = _self._fx_profiler_ctx
-      torch.ops.profiler._record_function_exit(handle_proxy)
+      torch.ops.profiler._record_function_exit(handle_proxy)  # 'torch.ops.profiler._record_function_exit' 未在映射表(api_mapping_out_excel.json)中找到，需手动确认;
       setattr(_self, '_fx_profiler_ctx', None)
 
     torch.autograd.profiler.record_function.__enter__ = fake_profiler_enter
@@ -97,8 +105,9 @@ pt = ProfilerTracer()
 
 graph_with_profiler = pt.trace(f)
-traced_with_profiler = torch.fx.GraphModule(pt.root, graph_with_profiler)
+traced_with_profiler = torch.fx.GraphModule(pt.root, graph_with_profiler)  # 'torch.fx.GraphModule' 未在映射表(api_mapping_out_excel.json)中找到，需手动确认;
 
+# 'torch.autograd.profiler.profile' 未在映射表(api_mapping_out_excel.json)中找到，需手动确认;
 with torch.autograd.profiler.profile() as prof:
   traced_with_profiler(x)
 
