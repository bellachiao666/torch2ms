--- pytorch+++ mindspore@@ -1,12 +1,15 @@+import mindspore as ms
+import mindspore.nn as msnn
+import mindspore.ops as msops
+import mindspore.mint as mint
+from mindspore.mint import nn, ops
 import dataclasses
 import logging
 import os
 from copy import deepcopy
 from pathlib import Path
 from typing import Any, Callable, Dict, List, Optional, Tuple, Type, TypeVar, Union
-
-from torch import nn as nn
-from torch.hub import load_state_dict_from_url
+# from torch.hub import load_state_dict_from_url
 
 from timm.models._features import FeatureListNet, FeatureDictNet, FeatureHookNet, FeatureGetterNet
 from timm.models._features_fx import FeatureGraphNet
@@ -37,7 +40,7 @@ ]
 
 
-ModelT = TypeVar("ModelT", bound=nn.Module)              # any subclass of nn.Module
+ModelT = TypeVar("ModelT", bound=msnn.Cell)              # any subclass of nn.Module
 
 
 def _resolve_pretrained_source(pretrained_cfg: Dict[str, Any]) -> Tuple[str, str]:
@@ -101,7 +104,7 @@ 
 
 def load_custom_pretrained(
-        model: nn.Module,
+        model: msnn.Cell,
         pretrained_cfg: Optional[Dict[str, Any]] = None,
         load_fn: Optional[Callable] = None,
         cache_dir: Optional[Union[str, Path]] = None,
@@ -150,7 +153,7 @@ 
 
 def load_pretrained(
-        model: nn.Module,
+        model: msnn.Cell,
         pretrained_cfg: Optional[Dict[str, Any]] = None,
         num_classes: int = 1000,
         in_chans: int = 3,
@@ -204,7 +207,7 @@                     check_hash=_CHECK_HASH,
                     weights_only=True,
                     model_dir=cache_dir,
-                )
+                )  # 'torch.hub.load_state_dict_from_url' 未在映射表(api_mapping_out_excel.json)中找到，需手动确认;
             except TypeError:
                 state_dict = load_state_dict_from_url(
                     pretrained_loc,
@@ -212,7 +215,7 @@                     progress=_DOWNLOAD_PROGRESS,
                     check_hash=_CHECK_HASH,
                     model_dir=cache_dir,
-                )
+                )  # 'torch.hub.load_state_dict_from_url' 未在映射表(api_mapping_out_excel.json)中找到，需手动确认;
     elif load_from == 'hf-hub':
         _logger.info(f'Loading pretrained weights from Hugging Face hub ({pretrained_loc})')
         if isinstance(pretrained_loc, (list, tuple)):
