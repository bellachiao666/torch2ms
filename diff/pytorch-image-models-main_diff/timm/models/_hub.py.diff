--- pytorch+++ mindspore@@ -1,3 +1,8 @@+import mindspore as ms
+import mindspore.nn as msnn
+import mindspore.ops as msops
+import mindspore.mint as mint
+from mindspore.mint import nn, ops
 import hashlib
 import json
 import logging
@@ -7,16 +12,16 @@ from tempfile import TemporaryDirectory
 from typing import Any, Dict, Iterable, List, Optional, Tuple, Union
 
-import torch
-from torch.hub import HASH_REGEX, download_url_to_file, urlparse
+# import torch
+# from torch.hub import HASH_REGEX, download_url_to_file, urlparse
 
 try:
-    from torch.hub import get_dir
+    # from torch.hub import get_dir
 except ImportError:
-    from torch.hub import _get_torch_home as get_dir
+    # from torch.hub import _get_torch_home as get_dir
 
 try:
-    import safetensors.torch
+    # import safetensors.torch
     _has_safetensors = True
 except ImportError:
     _has_safetensors = False
@@ -58,7 +63,7 @@     if os.getenv('TORCH_MODEL_ZOO'):
         _logger.warning('TORCH_MODEL_ZOO is deprecated, please use env TORCH_HOME instead')
 
-    hub_dir = get_dir()
+    hub_dir = get_dir()  # 'torch.hub._get_torch_home' 未在映射表(api_mapping_out_excel.json)中找到，需手动确认;
     child_dir = () if not child_dir else (child_dir,)
     model_dir = os.path.join(hub_dir, 'checkpoints', *child_dir)
     os.makedirs(model_dir, exist_ok=True)
@@ -74,7 +79,7 @@     if isinstance(url, (list, tuple)):
         url, filename = url
     else:
-        parts = urlparse(url)
+        parts = urlparse(url)  # 'torch.hub.urlparse' 未在映射表(api_mapping_out_excel.json)中找到，需手动确认;
         filename = os.path.basename(parts.path)
     if cache_dir:
         os.makedirs(cache_dir, exist_ok=True)
@@ -85,9 +90,9 @@         _logger.info('Downloading: "{}" to {}\n'.format(url, cached_file))
         hash_prefix = None
         if check_hash:
-            r = HASH_REGEX.search(filename)  # r is Optional[Match[str]]
+            r = HASH_REGEX.search(filename)  # r is Optional[Match[str]]; 'torch.hub.HASH_REGEX.search' 未在映射表(api_mapping_out_excel.json)中找到，需手动确认;
             hash_prefix = r.group(1) if r else None
-        download_url_to_file(url, cached_file, hash_prefix, progress=progress)
+        download_url_to_file(url, cached_file, hash_prefix, progress=progress)  # 'torch.hub.download_url_to_file' 未在映射表(api_mapping_out_excel.json)中找到，需手动确认;
     return cached_file
 
 
@@ -99,14 +104,14 @@     if isinstance(url, (list, tuple)):
         url, filename = url
     else:
-        parts = urlparse(url)
+        parts = urlparse(url)  # 'torch.hub.urlparse' 未在映射表(api_mapping_out_excel.json)中找到，需手动确认;
         filename = os.path.basename(parts.path)
     if not cache_dir:
         cache_dir = get_cache_dir()
     cached_file = os.path.join(cache_dir, filename)
     if os.path.exists(cached_file):
         if check_hash:
-            r = HASH_REGEX.search(filename)  # r is Optional[Match[str]]
+            r = HASH_REGEX.search(filename)  # r is Optional[Match[str]]; 'torch.hub.HASH_REGEX.search' 未在映射表(api_mapping_out_excel.json)中找到，需手动确认;
             hash_prefix = r.group(1) if r else None
             if hash_prefix:
                 with open(cached_file, 'rb') as f:
@@ -245,9 +250,9 @@     )
     _logger.debug(f"[{model_id}] Safe alternative not found for '{filename}'. Loading weights using default pytorch.")
     try:
-        state_dict = torch.load(cached_file, map_location='cpu', weights_only=weights_only)
+        state_dict = torch.load(cached_file, map_location='cpu', weights_only=weights_only)  # 'torch.load' 未在映射表(api_mapping_out_excel.json)中找到，需手动确认;
     except TypeError:
-        state_dict = torch.load(cached_file, map_location='cpu')
+        state_dict = torch.load(cached_file, map_location='cpu')  # 'torch.load' 未在映射表(api_mapping_out_excel.json)中找到，需手动确认;
     return state_dict
 
 
@@ -290,12 +295,13 @@         raise RuntimeError(f"No suitable checkpoints found in {path}.")
 
     try:
-        state_dict = torch.load(found_file, map_location='cpu', weights_only=weights_only)
+        state_dict = torch.load(found_file, map_location='cpu', weights_only=weights_only)  # 'torch.load' 未在映射表(api_mapping_out_excel.json)中找到，需手动确认;
     except TypeError:
-        state_dict = torch.load(found_file, map_location='cpu')
+        state_dict = torch.load(found_file, map_location='cpu')  # 'torch.load' 未在映射表(api_mapping_out_excel.json)中找到，需手动确认;
     return state_dict
 
 
+# 类型标注 'torch.nn.Module' 未在映射表(api_mapping_out_excel.json)中找到，需手动确认;
 def load_custom_from_hf(
         model_id: str,
         filename: str,
@@ -313,6 +319,7 @@     return model.load_pretrained(cached_file)
 
 
+# 类型标注 'torch.nn.Module' 未在映射表(api_mapping_out_excel.json)中找到，需手动确认;
 def save_config_for_hf(
         model: torch.nn.Module,
         config_path: str,
@@ -362,6 +369,7 @@         json.dump(hf_config, f, indent=2)
 
 
+# 类型标注 'torch.nn.Module' 未在映射表(api_mapping_out_excel.json)中找到，需手动确认;
 def save_for_hf(
         model: torch.nn.Module,
         save_directory: str,
@@ -379,7 +387,7 @@         assert _has_safetensors, "`pip install safetensors` to use .safetensors"
         safetensors.torch.save_file(tensors, save_directory / HF_SAFE_WEIGHTS_NAME)
     if safe_serialization is False or safe_serialization == "both":
-        torch.save(tensors, save_directory / HF_WEIGHTS_NAME)
+        torch.save(tensors, save_directory / HF_WEIGHTS_NAME)  # 'torch.save' 未在映射表(api_mapping_out_excel.json)中找到，需手动确认;
 
     config_path = save_directory / 'config.json'
     save_config_for_hf(
@@ -390,6 +398,7 @@     )
 
 
+# 类型标注 'torch.nn.Module' 未在映射表(api_mapping_out_excel.json)中找到，需手动确认;
 def push_to_hf_hub(
         model: torch.nn.Module,
         repo_id: str,
