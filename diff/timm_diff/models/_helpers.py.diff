--- pytorch+++ mindspore@@ -1,3 +1,8 @@+import mindspore as ms
+import mindspore.nn as msnn
+import mindspore.ops as msops
+import mindspore.mint as mint
+from mindspore.mint import nn, ops
 """ Model creation / weight loading / state_dict helpers
 
 Hacked together by / Copyright 2020 Ross Wightman
@@ -6,10 +11,10 @@ import os
 from typing import Any, Callable, Dict, Optional, Union
 
-import torch
+# import torch
 
 try:
-    import safetensors.torch
+    # import safetensors.torch
 
     _has_safetensors = True
 except ImportError:
@@ -65,9 +70,9 @@             checkpoint = safetensors.torch.load_file(checkpoint_path, device=device)
         else:
             try:
-                checkpoint = torch.load(checkpoint_path, map_location=device, weights_only=weights_only)
+                checkpoint = torch.load(checkpoint_path, map_location=device, weights_only=weights_only)  # 'torch.load' 未在映射表(api_mapping_out_excel.json)中找到，需手动确认;
             except TypeError:
-                checkpoint = torch.load(checkpoint_path, map_location=device)
+                checkpoint = torch.load(checkpoint_path, map_location=device)  # 'torch.load' 未在映射表(api_mapping_out_excel.json)中找到，需手动确认;
 
         state_dict_key = ''
         if isinstance(checkpoint, dict):
@@ -87,6 +92,7 @@         raise FileNotFoundError()
 
 
+# 类型标注 'torch.nn.Module' 未在映射表(api_mapping_out_excel.json)中找到，需手动确认;
 def load_checkpoint(
         model: torch.nn.Module,
         checkpoint_path: str,
@@ -129,6 +135,7 @@     return incompatible_keys
 
 
+# 类型标注 'torch.nn.Module' 未在映射表(api_mapping_out_excel.json)中找到，需手动确认;
 def remap_state_dict(
         state_dict: Dict[str, Any],
         model: torch.nn.Module,
@@ -158,6 +165,7 @@     return out_dict
 
 
+# 类型标注 'torch.nn.Module' 未在映射表(api_mapping_out_excel.json)中找到，需手动确认;
 def resume_checkpoint(
         model: torch.nn.Module,
         checkpoint_path: str,
@@ -179,7 +187,7 @@     """
     resume_epoch = None
     if os.path.isfile(checkpoint_path):
-        checkpoint = torch.load(checkpoint_path, map_location='cpu', weights_only=False)
+        checkpoint = torch.load(checkpoint_path, map_location='cpu', weights_only=False)  # 'torch.load' 未在映射表(api_mapping_out_excel.json)中找到，需手动确认;
         if isinstance(checkpoint, dict) and 'state_dict' in checkpoint:
             if log_info:
                 _logger.info('Restoring model state from checkpoint...')
